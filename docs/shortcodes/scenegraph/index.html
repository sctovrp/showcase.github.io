<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Grafo de escena #  Definición del problema #  Dado unos objetos en un espacio tridimensional, demostrar el uso del grafo de escena, modificando dichos objetos de manera independiente
Sustento teórico #  Grafos #  Los grafos son un conjunto de objetos llamados vértices o nodos unidos por enlaces llamados aristas o arcos, que permiten representar relaciones binarias entre elementos de un conjunto. Son objeto de estudio de la teoría de grafos."><meta name=theme-color content="#FFFFFF"><meta name=color-scheme content="light dark"><meta property="og:title" content><meta property="og:description" content="Grafo de escena #  Definición del problema #  Dado unos objetos en un espacio tridimensional, demostrar el uso del grafo de escena, modificando dichos objetos de manera independiente
Sustento teórico #  Grafos #  Los grafos son un conjunto de objetos llamados vértices o nodos unidos por enlaces llamados aristas o arcos, que permiten representar relaciones binarias entre elementos de un conjunto. Son objeto de estudio de la teoría de grafos."><meta property="og:type" content="article"><meta property="og:url" content="https://sctovrp.github.io/showcase.github.io/docs/shortcodes/scenegraph/"><meta property="article:section" content="docs"><meta property="article:modified_time" content="2022-05-24T22:53:33-05:00"><title>Scenegraph | Presentación</title><link rel=manifest href=/showcase.github.io/manifest.json><link rel=icon href=/showcase.github.io/favicon.png type=image/x-icon><link rel=stylesheet href=/showcase.github.io/book.min.ab46de3e725a6415339a37bba23a0067534a37289b063c9f8d011515a63097a8.css integrity="sha256-q0bePnJaZBUzmje7ojoAZ1NKNyibBjyfjQEVFaYwl6g=" crossorigin=anonymous><script defer src=/showcase.github.io/flexsearch.min.js></script>
<script defer src=/showcase.github.io/en.search.min.1423f587e81f4ad9fbfd9c47ecb3b9c8ce5b42a766d5c7b63eb8056dede8c94e.js integrity="sha256-FCP1h+gfStn7/ZxH7LO5yM5bQqdm1ce2PrgFbe3oyU4=" crossorigin=anonymous></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/showcase.github.io/><span>Presentación</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li class=book-section-flat><span>Shortcodes</span><ul><li><a href=/showcase.github.io/docs/shortcodes/convolution/>Convolution</a></li><li><a href=/showcase.github.io/docs/shortcodes/convolutionVideo/>Convolution Video</a></li><li><a href=/showcase.github.io/docs/shortcodes/scenegraph/ class=active>Scenegraph</a></li><li><a href=/showcase.github.io/docs/shortcodes/softwareRendering/>Software Rendering</a></li></ul></li></ul><ul><li><a href=/showcase.github.io/posts/>Blog</a></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/showcase.github.io/svg/menu.svg class=book-icon alt=Menu></label>
<strong>Scenegraph</strong>
<label for=toc-control><img src=/showcase.github.io/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#grafo-de-escena>Grafo de escena</a><ul><li><a href=#definición-del-problema>Definición del problema</a></li><li><a href=#sustento-teórico>Sustento teórico</a><ul><li><a href=#grafos>Grafos</a></li><li><a href=#gráficos-3d>Gráficos 3D</a></li><li><a href=#grafo-de-escena-1>Grafo de escena</a></li></ul></li><li><a href=#implementación>Implementación</a><ul><li><a href=#definición-del-grafo-de-escena>Definición del grafo de escena</a></li><li><a href=#código-de-la-implementación>Código de la implementación</a></li></ul></li><li><a href=#conclusiones-y-trabajo-futuro>Conclusiones y trabajo futuro</a></li><li><a href=#escena-3d>Escena 3D</a></li></ul></li></ul></nav></aside></header><article class=markdown><h1 id=grafo-de-escena>Grafo de escena
<a class=anchor href=#grafo-de-escena>#</a></h1><h2 id=definición-del-problema>Definición del problema
<a class=anchor href=#definici%c3%b3n-del-problema>#</a></h2><p>Dado unos objetos en un espacio tridimensional, demostrar el uso del grafo de escena, modificando dichos objetos de manera independiente</p><h2 id=sustento-teórico>Sustento teórico
<a class=anchor href=#sustento-te%c3%b3rico>#</a></h2><h3 id=grafos>Grafos
<a class=anchor href=#grafos>#</a></h3><p>Los grafos son un conjunto de objetos llamados vértices o nodos unidos por enlaces llamados aristas o arcos, que permiten representar relaciones binarias entre elementos de un conjunto. Son objeto de estudio de la teoría de grafos.</p><p>Fuente: <a href=https://es.wikipedia.org/wiki/Grafo>Grafos</a></p><h3 id=gráficos-3d>Gráficos 3D
<a class=anchor href=#gr%c3%a1ficos-3d>#</a></h3><p>Los gráficos en 3D son gráficos que utilizan una representación tridimensional de datos geométricos (a menudo cartesianos) que se almacenan en el computador con el fin de realizar cálculos y representar su resultado. Se compone de varias partes:</p><blockquote class="book-hint info"><h3 id=modelado>Modelado:
<a class=anchor href=#modelado>#</a></h3><p>La etapa de modelado consiste en dar forma a objetos individuales que luego serán usados en la escena creada. Esto se puede realizar por medio de representación poligonal o definidos por curvas matemáticas.</blockquote><blockquote class="book-hint info"><h3 id=composición-de-escena>Composición de escena:
<a class=anchor href=#composici%c3%b3n-de-escena>#</a></h3><p>Esta etapa trata de distribuir los diferentes elementos (objetos, luces, cámaras&mldr;) en una escena que será utilizada para producir una imagen estática o una animación.</blockquote><blockquote class="book-hint info"><h3 id=animación>Animación:
<a class=anchor href=#animaci%c3%b3n>#</a></h3><p>La animación en 3D es un proceso complejo, porque conlleva la realización previa de otros procesos como el diseño y modelado del objeto a animar. Consiste en la deformación o movimiento de los objetos de un modelo 3D a lo largo del tiempo. Para que haya animación, esta deformación o movimiento debe variar en algún aspecto respecto al tiempo: cambio de luces y formas, movimiento de objetos y cámaras, etc. Los objetos se pueden animar a partir de:</p><ul><li>Transformaciones básicas en los tres ejes (X, Y, Z), rotación, escala y traslación.</li><li>Modificaciones en formas</li></ul></blockquote><p>Fuente: <a href=https://es.wikipedia.org/wiki/Gr%c3%a1ficos_3D_por_computadora>Gráficos 3D por computadora</a></p><h3 id=grafo-de-escena-1>Grafo de escena
<a class=anchor href=#grafo-de-escena-1>#</a></h3><p>Es grafo como estructura de datos referente a la representación gráfica de objetos geométricos compuestos (o escenas 3D completas)
que ordenan lógicamente sus nodos con la información de cada uno de los elementos geométricos deseados. Esta estructura organizada como un árbol n-ario en la cual se permite cualquier cantidad de nodos hijos, pero solo un nodo padre, facilitando que cuando se realice una operación sobre un nodo, esta se propague a todos los nodos hijos.</p><script src=/showcase.github.io/mermaid.min.js></script>
<script>mermaid.initialize({flowchart:{useMaxWidth:!0},theme:"default"})</script><p class="mermaid text-center">stateDiagram-v2
Avatar --> Tronco
Tronco --> Cabeza
Tronco --> Brazos
Tronco --> Piernas</p><p>Fuentes: <a href="https://repositorio.uniandes.edu.co/bitstream/handle/1992/23488/u295637.pdf?sequence=1">Creación interactiva de grafos de escena para Aplicaciones Gráficas 3D</a></p><h2 id=implementación>Implementación
<a class=anchor href=#implementaci%c3%b3n>#</a></h2><h3 id=definición-del-grafo-de-escena>Definición del grafo de escena
<a class=anchor href=#definici%c3%b3n-del-grafo-de-escena>#</a></h3><p>Primero definimos nuestro grafo de escena juntos con los objetos a modificar. Nuestros Objetos van a ser un tanque y una pelota, los cuales son creados por nosotros.</p><p>Sus transformaciones (animaciones) serán las siguientes:</p><ul><li>Girar la cámara y poder hacer zoom.</li><li>Mover el tanque hacia adelante y hacia atrás.</li><li>Cambiar el sentido de rotación de las llantas.</li><li>Trasladar todo el escenario.</li><li>Siempre rotará sobre su eje el cañón de nuestro tanque.</li><li>Debe de haber una esfera que ninguna traslación afecte.</li></ul><p>Ahora si, nuestro grafo es el siguiente:</p><p class="mermaid text-center">stateDiagram-v2
Mundo --> Escena
Escena --> Esfera
Escena --> Tanque
Escena --> Cámara
Tanque --> Ruedas
Tanque --> Cañón</p><h3 id=código-de-la-implementación>Código de la implementación
<a class=anchor href=#c%c3%b3digo-de-la-implementaci%c3%b3n>#</a></h3><p>Lo primero que tenemos que hacer es definir nuestro cámara, así como sliders de ayuda para poder realizar todas las translaciones pedidas.</p><div class=book-expand><label><div class="book-expand-head flex justify-between"><span>Expand</span>
<span>↕</span></div><input type=checkbox class=hidden><div class="book-expand-content markdown-inner"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#a6e22e>p</span>.<span style=color:#a6e22e>setup</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>function</span> () {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>p</span>.<span style=color:#a6e22e>createCanvas</span>(<span style=color:#ae81ff>600</span>, <span style=color:#ae81ff>450</span>, <span style=color:#a6e22e>p</span>.<span style=color:#a6e22e>WEBGL</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>xPan</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>p</span>.<span style=color:#a6e22e>createSlider</span>(<span style=color:#f92672>-</span><span style=color:#ae81ff>600</span>,<span style=color:#ae81ff>600</span>, <span style=color:#ae81ff>100</span>,<span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>yPan</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>p</span>.<span style=color:#a6e22e>createSlider</span>(<span style=color:#f92672>-</span><span style=color:#ae81ff>450</span>,<span style=color:#ae81ff>450</span>, <span style=color:#ae81ff>50</span>,<span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>xTank</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>p</span>.<span style=color:#a6e22e>createSlider</span>(<span style=color:#f92672>-</span><span style=color:#ae81ff>400</span>, <span style=color:#ae81ff>400</span>, <span style=color:#ae81ff>0</span>,<span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>xPan</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>0</span>,<span style=color:#ae81ff>550</span>,<span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>yPan</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>0</span>,<span style=color:#ae81ff>580</span>,<span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>xTank</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>200</span>,<span style=color:#ae81ff>550</span>,<span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>p</span>.<span style=color:#a6e22e>createEasyCam</span>();
</span></span><span style=display:flex><span>    document.<span style=color:#a6e22e>oncontextmenu</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>function</span> () { <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>false</span>; }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></div></label></div><p>Luego definimos cada una de las partes del tanque, este código nos permitirá generar las orugas y el cuerpo del mismo. Acá podemos ver como en las translaciones agregamos los valores a variar, junto a otras modificaciones como por ejemplo, si tendrán esta textura o no, su posición inicial, su sentido de rotación, etc.</p><p>Es importante mencionar el uso de las funciones integradas en <code>p5.js</code> de <code>push()</code> y <code>pop()</code>, para poder navegar a través del grafo de escena y modificar los objetos deseados.</p><h4 id=oruga>Oruga
<a class=anchor href=#oruga>#</a></h4><div class=book-expand><label><div class="book-expand-head flex justify-between"><span>Expand</span>
<span>↕</span></div><input type=checkbox class=hidden><div class="book-expand-content markdown-inner"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>orruga</span>(<span style=color:#a6e22e>x</span>,<span style=color:#a6e22e>y</span>,<span style=color:#a6e22e>z</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>p</span>.<span style=color:#a6e22e>push</span>()
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>p</span>.<span style=color:#a6e22e>noFill</span>()
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>p</span>.<span style=color:#a6e22e>translate</span>(<span style=color:#a6e22e>x</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>xTank</span>.<span style=color:#a6e22e>value</span>(),<span style=color:#a6e22e>y</span>,<span style=color:#a6e22e>z</span>)
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>p</span>.<span style=color:#a6e22e>beginShape</span>();
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>p</span>.<span style=color:#a6e22e>vertex</span>(<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>    <span style=color:#75715e>// more vertex added
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#a6e22e>p</span>.<span style=color:#a6e22e>endShape</span>()
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>p</span>.<span style=color:#a6e22e>pop</span>()
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></div></label></div><h4 id=casco>Casco
<a class=anchor href=#casco>#</a></h4><div class=book-expand><label><div class="book-expand-head flex justify-between"><span>Expand</span>
<span>↕</span></div><input type=checkbox class=hidden><div class="book-expand-content markdown-inner"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>casco</span>() {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>p</span>.<span style=color:#a6e22e>push</span>()
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>p</span>.<span style=color:#a6e22e>texture</span>(<span style=color:#a6e22e>imgCamo</span>); 
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>p</span>.<span style=color:#a6e22e>textureMode</span>(<span style=color:#a6e22e>p</span>.<span style=color:#a6e22e>NORMAL</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>p</span>.<span style=color:#a6e22e>translate</span>(<span style=color:#a6e22e>xTank</span>.<span style=color:#a6e22e>value</span>(), <span style=color:#ae81ff>0</span>,<span style=color:#ae81ff>0</span>)
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>p</span>.<span style=color:#a6e22e>beginShape</span>();
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>p</span>.<span style=color:#a6e22e>vertex</span>(<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>    <span style=color:#75715e>// more vertex added
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#a6e22e>p</span>.<span style=color:#a6e22e>endShape</span>(<span style=color:#a6e22e>p</span>.<span style=color:#a6e22e>CLOSE</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>p</span>.<span style=color:#a6e22e>pop</span>();
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></div></label></div><h4 id=coraza>Coraza
<a class=anchor href=#coraza>#</a></h4><div class=book-expand><label><div class="book-expand-head flex justify-between"><span>Expand</span>
<span>↕</span></div><input type=checkbox class=hidden><div class="book-expand-content markdown-inner"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>coraza</span>() {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>p</span>.<span style=color:#a6e22e>push</span>()
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>p</span>.<span style=color:#a6e22e>texture</span>(<span style=color:#a6e22e>imgCamo</span>); 
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>p</span>.<span style=color:#a6e22e>textureMode</span>(<span style=color:#a6e22e>p</span>.<span style=color:#a6e22e>NORMAL</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>p</span>.<span style=color:#a6e22e>translate</span>(<span style=color:#f92672>-</span><span style=color:#ae81ff>90</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>xTank</span>.<span style=color:#a6e22e>value</span>(),<span style=color:#f92672>-</span><span style=color:#ae81ff>50</span>, <span style=color:#ae81ff>103</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>p</span>.<span style=color:#a6e22e>box</span>(<span style=color:#ae81ff>190</span>, <span style=color:#ae81ff>60</span>, <span style=color:#ae81ff>110</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>p</span>.<span style=color:#a6e22e>pop</span>()
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></div></label></div><h4 id=llantas>LLantas
<a class=anchor href=#llantas>#</a></h4><div class=book-expand><label><div class="book-expand-head flex justify-between"><span>Expand</span>
<span>↕</span></div><input type=checkbox class=hidden><div class="book-expand-content markdown-inner"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>llantas</span>(<span style=color:#a6e22e>x</span>,<span style=color:#a6e22e>y</span>,<span style=color:#a6e22e>z</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>p</span>.<span style=color:#a6e22e>push</span>()
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>p</span>.<span style=color:#a6e22e>fill</span>(<span style=color:#e6db74>&#34;#09304a&#34;</span>)
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>p</span>.<span style=color:#a6e22e>translate</span>(<span style=color:#a6e22e>x</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>xTank</span>.<span style=color:#a6e22e>value</span>(),<span style=color:#a6e22e>y</span>,<span style=color:#a6e22e>z</span>)
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>p</span>.<span style=color:#a6e22e>rotateZ</span>(<span style=color:#ae81ff>1.5708</span>)
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>p</span>.<span style=color:#a6e22e>rotateX</span>(<span style=color:#ae81ff>1.5708</span>)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>xPan</span>.<span style=color:#a6e22e>value</span>() <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>0</span>){
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>p</span>.<span style=color:#a6e22e>rotateY</span>(<span style=color:#a6e22e>p</span>.<span style=color:#a6e22e>frameCount</span> <span style=color:#f92672>*</span> <span style=color:#ae81ff>0.01</span>)
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>else</span>{
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>p</span>.<span style=color:#a6e22e>rotateY</span>(<span style=color:#a6e22e>p</span>.<span style=color:#a6e22e>frameCount</span> <span style=color:#f92672>*</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>0.01</span>)
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>p</span>.<span style=color:#a6e22e>cylinder</span>(<span style=color:#ae81ff>30</span>, <span style=color:#ae81ff>50</span>)
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>p</span>.<span style=color:#a6e22e>pop</span>()
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></div></label></div><h4 id=cañón>Cañón
<a class=anchor href=#ca%c3%b1%c3%b3n>#</a></h4><div class=book-expand><label><div class="book-expand-head flex justify-between"><span>Expand</span>
<span>↕</span></div><input type=checkbox class=hidden><div class="book-expand-content markdown-inner"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>cannon</span>(<span style=color:#a6e22e>x</span>,<span style=color:#a6e22e>y</span>,<span style=color:#a6e22e>z</span>){
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>p</span>.<span style=color:#a6e22e>push</span>()
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>p</span>.<span style=color:#a6e22e>fill</span>(<span style=color:#e6db74>&#34;#e8c517&#34;</span>)
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>p</span>.<span style=color:#a6e22e>translate</span>(<span style=color:#a6e22e>x</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>xTank</span>.<span style=color:#a6e22e>value</span>(),<span style=color:#a6e22e>y</span>,<span style=color:#a6e22e>z</span>)
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>p</span>.<span style=color:#a6e22e>rotateZ</span>(<span style=color:#ae81ff>1.5708</span>)
</span></span><span style=display:flex><span>    <span style=color:#75715e>// p.rotateX(1.5708)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#a6e22e>p</span>.<span style=color:#a6e22e>rotateY</span>(<span style=color:#a6e22e>p</span>.<span style=color:#a6e22e>frameCount</span> <span style=color:#f92672>*</span> <span style=color:#ae81ff>0.01</span>)
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>p</span>.<span style=color:#a6e22e>cylinder</span>(<span style=color:#ae81ff>15</span>, <span style=color:#ae81ff>80</span>)
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>p</span>.<span style=color:#a6e22e>pop</span>()
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></div></label></div><h4 id=esfera-inmóvil>Esfera inmóvil
<a class=anchor href=#esfera-inm%c3%b3vil>#</a></h4><div class=book-expand><label><div class="book-expand-head flex justify-between"><span>Expand</span>
<span>↕</span></div><input type=checkbox class=hidden><div class="book-expand-content markdown-inner"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>sphereRef</span>() {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>p</span>.<span style=color:#a6e22e>push</span>()
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>p</span>.<span style=color:#a6e22e>texture</span>(<span style=color:#a6e22e>imgCamo</span>); 
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>p</span>.<span style=color:#a6e22e>textureMode</span>(<span style=color:#a6e22e>p</span>.<span style=color:#a6e22e>NORMAL</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>p</span>.<span style=color:#a6e22e>translate</span>(<span style=color:#ae81ff>80</span>,<span style=color:#f92672>-</span><span style=color:#ae81ff>50</span>,<span style=color:#f92672>-</span><span style=color:#ae81ff>50</span>)
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>p</span>.<span style=color:#a6e22e>sphere</span>(<span style=color:#ae81ff>40</span>)
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>p</span>.<span style=color:#a6e22e>pop</span>()
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></div></label></div><p>Luego ya procedemos a invocar dichos elementos según lo necesitemos dentro de la función <code>draw()</code>, así como realizar la translación de toda la escena.</p><div class=book-expand><label><div class="book-expand-head flex justify-between"><span>Expand</span>
<span>↕</span></div><input type=checkbox class=hidden><div class="book-expand-content markdown-inner"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#a6e22e>p</span>.<span style=color:#a6e22e>draw</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>function</span> () {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>p</span>.<span style=color:#a6e22e>background</span>(<span style=color:#ae81ff>250</span>);
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>p</span>.<span style=color:#a6e22e>translate</span>(<span style=color:#a6e22e>xPan</span>.<span style=color:#a6e22e>value</span>(), <span style=color:#a6e22e>yPan</span>.<span style=color:#a6e22e>value</span>(), <span style=color:#ae81ff>0</span>)
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>sphereRef</span>()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>orruga</span>(<span style=color:#ae81ff>0</span>,<span style=color:#ae81ff>0</span>,<span style=color:#ae81ff>17</span>)
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>llanta</span>(<span style=color:#f92672>-</span><span style=color:#ae81ff>10</span>,<span style=color:#f92672>-</span><span style=color:#ae81ff>50</span>, <span style=color:#ae81ff>20</span>)
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>llanta</span>(<span style=color:#f92672>-</span><span style=color:#ae81ff>100</span>,<span style=color:#f92672>-</span><span style=color:#ae81ff>50</span>, <span style=color:#ae81ff>20</span>)
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>llanta</span>(<span style=color:#f92672>-</span><span style=color:#ae81ff>190</span>,<span style=color:#f92672>-</span><span style=color:#ae81ff>50</span>, <span style=color:#ae81ff>20</span>)
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>casco</span>()
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>coraza</span>()
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>orruga</span>(<span style=color:#ae81ff>0</span>,<span style=color:#ae81ff>0</span>,<span style=color:#ae81ff>160</span>)
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>llanta</span>(<span style=color:#f92672>-</span><span style=color:#ae81ff>10</span>,<span style=color:#f92672>-</span><span style=color:#ae81ff>50</span>, <span style=color:#ae81ff>185</span>)
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>llanta</span>(<span style=color:#f92672>-</span><span style=color:#ae81ff>100</span>,<span style=color:#f92672>-</span><span style=color:#ae81ff>50</span>, <span style=color:#ae81ff>185</span>)
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>llanta</span>(<span style=color:#f92672>-</span><span style=color:#ae81ff>190</span>,<span style=color:#f92672>-</span><span style=color:#ae81ff>50</span>, <span style=color:#ae81ff>185</span>) 
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>cannon</span>(<span style=color:#f92672>-</span><span style=color:#ae81ff>135</span>,<span style=color:#f92672>-</span><span style=color:#ae81ff>100</span>, <span style=color:#ae81ff>100</span>)
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></div></label></div><h2 id=conclusiones-y-trabajo-futuro>Conclusiones y trabajo futuro
<a class=anchor href=#conclusiones-y-trabajo-futuro>#</a></h2><p>Podemos concluir que el grafo de escena es una herramienta muy útil a la hora de realizar gráficos en computadora y aplicarles modificaciones a cada unos de los objetos presentes, permitiendo que se hereden las modificaciones, simplificando el código y el entendimiento del desarrollo de este tipo de trabajos.</p><p>En trabajos futuros, se propone desarrollar más grafos de escena con otras estructuras, en donde la escena y la cámara no estén sujetas. También la mejora de gráficos e interacción del usuario con dichos gráficos.</p><h2 id=escena-3d>Escena 3D
<a class=anchor href=#escena-3d>#</a></h2><p>Esta es la escena descrita anteriormente, los sliders de la izquierda son para aplicar las transformaciones a toda la escena, el de la derecha es para mover el tanque sobre el eje x.</p><script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.1/p5.min.js></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.1/addons/p5.sound.min.js></script>
<script src=https://cdn.jsdelivr.net/gh/freshfork/p5.EasyCam@1.2.1/p5.easycam.js></script>
<script src=../../../sketches/sceneGraph.js></script><div id=sceneGraph></div><p>Movimiento de la escena / Movimiento del tanque en eje x</p></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://github.com/visualcomputing/showcase/commit/069a5bdf6360ab2ad47af1a1c7b94fee8fed3a30 title="Last modified by Sebastian Tovar | May 25, 2022" target=_blank rel=noopener><img src=/showcase.github.io/svg/calendar.svg class=book-icon alt=Calendar>
<span>May 25, 2022</span></a></div></div><script>(function(){function e(n){const e=window.getSelection(),t=document.createRange();t.selectNodeContents(n),e.removeAllRanges(),e.addRange(t)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#grafo-de-escena>Grafo de escena</a><ul><li><a href=#definición-del-problema>Definición del problema</a></li><li><a href=#sustento-teórico>Sustento teórico</a><ul><li><a href=#grafos>Grafos</a></li><li><a href=#gráficos-3d>Gráficos 3D</a></li><li><a href=#grafo-de-escena-1>Grafo de escena</a></li></ul></li><li><a href=#implementación>Implementación</a><ul><li><a href=#definición-del-grafo-de-escena>Definición del grafo de escena</a></li><li><a href=#código-de-la-implementación>Código de la implementación</a></li></ul></li><li><a href=#conclusiones-y-trabajo-futuro>Conclusiones y trabajo futuro</a></li><li><a href=#escena-3d>Escena 3D</a></li></ul></li></ul></nav></div></aside></main></body></html>